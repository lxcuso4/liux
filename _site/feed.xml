<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.8.5">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2019-02-12T11:42:23+08:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">ä¸»é¡µ</title><subtitle>liux gitpages</subtitle><entry><title type="html">æ‰©å±•vueçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°</title><link href="http://localhost:4000/frame/2018/12/26/%E6%89%A9%E5%B1%95vue%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0.html" rel="alternate" type="text/html" title="æ‰©å±•vueçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°" /><published>2018-12-26T00:00:00+08:00</published><updated>2018-12-26T00:00:00+08:00</updated><id>http://localhost:4000/frame/2018/12/26/%E6%89%A9%E5%B1%95vue%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0</id><content type="html" xml:base="http://localhost:4000/frame/2018/12/26/%E6%89%A9%E5%B1%95vue%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0.html">&lt;h2 id=&quot;æ‰©å±•åœ¨appä¸­vueçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°&quot;&gt;æ‰©å±•åœ¨Appä¸­vueçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°&lt;/h2&gt;

&lt;h4 id=&quot;éœ€æ±‚åœºæ™¯&quot;&gt;éœ€æ±‚åœºæ™¯&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;åœ¨Appä¸­æœ‰æ—¶éœ€è¦ç”¨æˆ·ç‚¹å‡»åé€€çš„æ—¶å€™æ˜¾ç¤ºæŒ½ç•™å¼¹çª—&lt;/li&gt;
  &lt;li&gt;éœ€è¦åœ¨ç”¨æˆ·ç‚¹å‡»å…³é—­æˆ–è€…åé€€çš„æ—¶å€™æ•°æ®ä¸ŠæŠ¥ï¼Œæ•°æ®ä¸ŠæŠ¥å®Œæˆåå†å…³é—­webview&lt;/li&gt;
  &lt;li&gt;æœ‰äº›åœºæ™¯éœ€è¦çŸ¥é“appé€€åˆ°åå°&lt;/li&gt;
  &lt;li&gt;æœ‰äº›åœºæ™¯éœ€è¦çŸ¥é“webview è¢«æ˜¾ç¤ºåˆ°å‰å°&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;ç›®å‰å®ç°&quot;&gt;ç›®å‰å®ç°&lt;/h4&gt;

&lt;p&gt;ä¼—æ‰€å‘¨çŸ¥ä¸Šé¢æ‰€æåˆ°çš„è¿™äº›èƒ½åŠ›éœ€è¦åŸç”Ÿæ”¯æŒï¼Œç›®å‰çš„æ–¹æ¡ˆæ˜¯Appé€šè¿‡jsbridgeåè®®æ¥æä¾›æ­¤ç§èƒ½åŠ›ï¼Œå½“æŸäº›ä¸šåŠ¡æœ‰éœ€è¦çš„æ—¶å€™ä¸»åŠ¨è°ƒjsbridgeæ¥å®ç°&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;æ­¤ç§æ–¹å¼æœ‰ä¸€äº›æ˜¾è€Œæ˜“è§çš„é—®é¢˜&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;éœ€è¦å®šä¹‰å…¨å±€å‡½æ•°ï¼Œå°†å‡½æ•°åç§°é€šè¿‡jsBridgeç»™åˆ°ç«¯ä¸Š&lt;/li&gt;
  &lt;li&gt;ä¸šåŠ¡ä¸­éœ€è¦åˆ¤æ–­ç¯å¢ƒ&lt;/li&gt;
  &lt;li&gt;æ¯ä¸ªéœ€è¦çš„é¡µé¢éƒ½éœ€è¦ç‹¬ç«‹çš„è°ƒç”¨jsbridgeï¼Œå¤šä¸ªé¡µé¢éœ€è¦è¿™ä¸ªåŠŸèƒ½çš„è¯éœ€è¦è°ƒç”¨å¤šæ¬¡&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;æ›´å¥½çš„å®ç°æ–¹æ¡ˆ&quot;&gt;æ›´å¥½çš„å®ç°æ–¹æ¡ˆ&lt;/h4&gt;

&lt;p&gt;æœ¬è´¨ä¸Šç”¨æˆ·ç‚¹å‡»åé€€ã€å…³é—­ã€é€€åˆ°åå°ã€æ˜¾ç¤ºåˆ°å‰å°éƒ½æ˜¯äº‹ä»¶ï¼Œå¦‚æœå°†è¿™äº›äº‹ä»¶æ‰©å±•ä¸ºvueçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œåˆ™åœ¨å†™ä¸šåŠ¡çš„æ—¶å€™&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;ä¸ç”¨å…³å¿ƒä¸appçš„äº¤äº’&lt;/li&gt;
  &lt;li&gt;ä¸ç”¨æ˜¾å¼çš„è°ƒç”¨jsBridge&lt;/li&gt;
  &lt;li&gt;å…¨å±€æ‰€æœ‰ä¸šåŠ¡å‡ä¼šç”Ÿæ•ˆï¼Œä¸ç”¨å†™é‡å¤çš„é€»è¾‘&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;æ€è·¯æä¾›çš„èƒ½åŠ›&quot;&gt;æ€è·¯&amp;amp;æä¾›çš„èƒ½åŠ›&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;æ‰©å±•vueç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œæä¾›ä¸åŸç”Ÿç”Ÿå‘½å‘¨æœŸæ— å·®åˆ«çš„é’©å­å‡½æ•°æ‰§è¡Œç¯å¢ƒ&lt;/li&gt;
  &lt;li&gt;ç»´æŠ¤çˆ¶å­ç»„ä»¶å¯¹åº”çš„è§¦å‘é¡ºåº&lt;/li&gt;
  &lt;li&gt;é’©å­å‡½æ•°æ‰§è¡Œå®Œæ¯•è‡ªåŠ¨è§¦å‘appé»˜è®¤äº‹ä»¶&lt;/li&gt;
  &lt;li&gt;å¯¹äºå¼‚æ­¥äº‹ä»¶ï¼Œæä¾›é˜»æ­¢æ‰§è¡Œé»˜è®¤äº‹ä»¶çš„èƒ½åŠ›ï¼Œnextæä¾›ç»§ç»­æ‰§è¡Œçš„èƒ½åŠ›&lt;/li&gt;
  &lt;li&gt;æä¾›é˜»æ­¢äº‹ä»¶å†’æ³¡çš„æ–¹æ³•&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;ä½¿ç”¨æ–‡æ¡£&quot;&gt;ä½¿ç”¨æ–‡æ¡£&lt;/h4&gt;

&lt;blockquote&gt;
  &lt;p&gt;å‰ç½®ä¾èµ–vue routerï¼Œåªæœ‰å¼•å…¥vue routerçš„å½“å‰æ¿€æ´»è·¯ç”±ä¸Šç”Ÿæ•ˆï¼Œå¦‚æœæ˜¯åµŒå¥—è·¯ç”±åˆ™å­è·¯ç”±å…ˆç”Ÿæ•ˆ&lt;/p&gt;
&lt;/blockquote&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;æ‰©å±•ç”Ÿå‘½å‘¨æœŸå‡½æ•°&lt;/th&gt;
      &lt;th&gt;æ‰§è¡Œæ—¶æœº&lt;/th&gt;
      &lt;th&gt;this&lt;/th&gt;
      &lt;th&gt;next[function]&lt;/th&gt;
      &lt;th&gt;e [object]&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;appBack&lt;/td&gt;
      &lt;td&gt;appåé€€æŒ‰é’®ç‚¹å‡»&lt;/td&gt;
      &lt;td&gt;vm å®ä¾‹&lt;/td&gt;
      &lt;td&gt;æ‰§è¡Œç‚¹å‡»åé€€çš„é»˜è®¤è¡Œä¸º&lt;/td&gt;
      &lt;td&gt;å½“å‰äº‹ä»¶å¯¹è±¡&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;appClose&lt;/td&gt;
      &lt;td&gt;appå…³é—­æŒ‰é’®ç‚¹å‡»&lt;/td&gt;
      &lt;td&gt;vm å®ä¾‹&lt;/td&gt;
      &lt;td&gt;æ‰§è¡Œç‚¹å‡»å…³é—­çš„é»˜è®¤è¡Œä¸º&lt;/td&gt;
      &lt;td&gt;å½“å‰äº‹ä»¶å¯¹è±¡&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;appPause&lt;/td&gt;
      &lt;td&gt;webviewè¿›å…¥åå°&lt;/td&gt;
      &lt;td&gt;vm å®ä¾‹&lt;/td&gt;
      &lt;td&gt;æ— ä½œç”¨&lt;/td&gt;
      &lt;td&gt;å½“å‰äº‹ä»¶å¯¹è±¡&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;appResume&lt;/td&gt;
      &lt;td&gt;webviewæ˜¾ç¤ºåˆ°é¡µé¢&lt;/td&gt;
      &lt;td&gt;vm å®ä¾‹&lt;/td&gt;
      &lt;td&gt;æ— ä½œç”¨&lt;/td&gt;
      &lt;td&gt;å½“å‰äº‹ä»¶å¯¹è±¡&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h5 id=&quot;eä¸ºå½“å‰äº‹ä»¶å¯¹è±¡eä¸‹æŒ‚è½½ä¸¤ä¸ªæ–¹æ³•&quot;&gt;eä¸ºå½“å‰äº‹ä»¶å¯¹è±¡ï¼Œeä¸‹æŒ‚è½½ä¸¤ä¸ªæ–¹æ³•&lt;/h5&gt;

&lt;ul&gt;
  &lt;li&gt;e.stopPropagation() //é˜»æ­¢äº‹ä»¶è¢«çˆ¶è·¯ç”±æ•è·&lt;/li&gt;
  &lt;li&gt;e.preventDefault() // é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼Œå¦‚æœæœ‰é»˜è®¤è¡Œä¸ºçš„è¯&lt;/li&gt;
  &lt;li&gt;return false // å¯ä»¥é˜»æ­¢é»˜è®¤è¡Œä¸ºå’Œå†’æ³¡&lt;/li&gt;
  &lt;li&gt;å¼‚æ­¥äº‹ä»¶å¤„ç†å®Œæˆåå†è°ƒç”¨next ç»§ç»­é»˜è®¤è¡Œä¸º&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;ç¤ºä¾‹ä»£ç &lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; export default {
    data() {
      return {
        name:'nextPage'
      };
    },
    appBack(next,e){
      // æ­¤å£°æ˜å‘¨æœŸå‡½æ•°åœ¨appåé€€æŒ‰é’®è¢«ç‚¹å‡»çš„æ—¶å€™æ‰§è¡Œ

      this.confirm({
        title:'æŒ½ç•™å¼¹çª—',
        text:'å¼‚æ­¥æ“ä½œæˆ–è€…ç”¨æˆ·äº‹ä»¶å®Œæˆåæ‰§è¡Œnext',
        yes: next
      })
      e.preventDefault()
       // or
      return false
    },
    appClose(){
      log('appClose',this.name)
      // å¦‚æœä¸šåŠ¡é€»è¾‘éœ€è¦æ‰§è¡ŒåŒæ­¥ä»£ç åˆ™ç›´æ¥å†™ä¸šåŠ¡é€»è¾‘ä¸éœ€è¦ç‰¹æ®Šå¤„ç†
    },
    appPause(){
      log('appPause',this.name)
    },
    appResume(){
      log('appResume',this.name)
    },
    created() {

    }
    ...
    }

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;å®ç°ä»£ç &lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/**
 * @åŠŸèƒ½åç§°: vueæ‰©å±•ç”Ÿå‘½å‘¨æœŸé’©å­ appBack appClose
 * @æ–‡ä»¶åç§°: vueHook
 * @Date: 2018/12/26
 * @Author: liux
 */


import registAppBack from '../jsBridge/registAppBack'
import navigationBack from '../jsBridge/navigationBack'
import registAppClose from '../jsBridge/registAppClose'
import closeCurrentPage from '../jsBridge/closeCurrentPage'



export  default  function  (router) {
  // ç”¨æˆ·ç‚¹å‡»åé€€
  registAppBack(REGISTHOOK('appBack',appBack));
  // ç”¨æˆ·ç‚¹å‡»å…³é—­
  registAppClose(REGISTHOOK('appClose',closeCurrentPage))
  // webview è¿›å…¥åå°
  window.onPause = REGISTHOOK('appPause')
  // webview æ¢å¤
  window.onResume = REGISTHOOK('appResume')
  window.router = router
  var rootKey = history.state &amp;amp;&amp;amp; history.state.key
  var realReplaceState = history.replaceState;

  document.addEventListener('DOMContentLoaded',function() {
    rootKey = history.state &amp;amp;&amp;amp; history.state.key;
  })
  history.replaceState = function() {
    setRootKey(arguments[0])
    return realReplaceState.call(history,...arguments)
  }
  function setRootKey(state={key:null}) {
    let key = history.state &amp;amp;&amp;amp; history.state.key;
    if(rootKey === key){
      rootKey = state.key
    }
  }
  function appBack() {
    let key = history.state &amp;amp;&amp;amp; history.state.key
    if(rootKey === key){
      navigationBack()
    }else {
      router.back()
    }
  }
  function REGISTHOOK(name,next = function () {}) {
    return function () {
      var mvList = router.currentRoute &amp;amp;&amp;amp; router.currentRoute.matched;
      if(!Array.isArray(mvList)){
        return next();
      }
      mvList = mvList.slice().map((item)=&amp;gt;{
        return item.instances &amp;amp;&amp;amp; item.instances.default
      });
      var check = mvList.some(vm=&amp;gt;{
        var hook = vm &amp;amp;&amp;amp; vm.$options &amp;amp;&amp;amp; vm.$options[name];
        if(typeof hook === 'function'){
          return true
        }else {
          return false
        }
      })
      if(!(mvList &amp;amp;&amp;amp; check)){
        return next()
      }
      var appDefault =  true
      mvList.reverse().some(item=&amp;gt;{
        let hook = item &amp;amp;&amp;amp; item.$options &amp;amp;&amp;amp; item.$options[name];
        if(typeof  hook === 'function'){
          let prevent = true; // æ‰§è¡Œé»˜è®¤äº‹ä»¶
          let stop = false; // ä¸é˜»æ­¢å†’æ³¡
          appDefault = false;
          let re = hook.call(item,next,{
            stopPropagation: ()=&amp;gt;{
              stop = true;
            },
            preventDefault:  ()=&amp;gt; {
              prevent = false
            }}) === false; // re: true -- é˜»æ­¢é»˜è®¤äº‹ä»¶ï¼Œé˜»æ­¢å†’æ³¡
          if(!re &amp;amp;&amp;amp; prevent){
            next()
          }
          return re || stop
        }else {
          return false
        }
      })
      if(appDefault){
        next()
      }
    }
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name></name></author><summary type="html">æ‰©å±•åœ¨Appä¸­vueçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°</summary></entry><entry><title type="html">mockæ•°æ®å¹³å°</title><link href="http://localhost:4000/frame/2018/07/12/mock%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0.html" rel="alternate" type="text/html" title="mockæ•°æ®å¹³å°" /><published>2018-07-12T00:00:00+08:00</published><updated>2018-07-12T00:00:00+08:00</updated><id>http://localhost:4000/frame/2018/07/12/mock%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0</id><content type="html" xml:base="http://localhost:4000/frame/2018/07/12/mock%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0.html">&lt;h3 id=&quot;mockåŠŸèƒ½ä»‹ç»&quot;&gt;mockåŠŸèƒ½ä»‹ç»&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;mockæ˜¯ä¸€ä¸ªæ•°æ®æ¥å£æ¨¡æ‹Ÿç³»ç»Ÿæ”¯æŒjsonæ ¼å¼æ•°æ®æ¨¡æ‹Ÿ&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;æä¾›åˆ›å»ºä»“åº“&lt;/li&gt;
  &lt;li&gt;æ¥å£æ•°æ®å¢åˆ æ”¹æŸ¥&lt;/li&gt;
  &lt;li&gt;æ”¯æŒå„ç§æ–¹æ³•çš„è¯·æ±‚&lt;/li&gt;
  &lt;li&gt;æ”¯æŒè·¨åŸŸè¯·æ±‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å†…ç½‘åœ°å€ï¼š
&lt;a href=&quot;http://172.19.15.251:3000/index.html&quot;&gt;http://172.19.15.251:3000/index.html&lt;/a&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;æ·»åŠ ä¸€ä¸ªä»“åº“ï¼Œæ ¹æ®å¼€å‘è€…æˆ–è€…é¡¹ç›®&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&quot;//assets/img/newStore.jpg&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;æ–°å¢æ¥å£&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&quot;//assets/img/add.jpg&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;æ¥å£åç§°æˆ–è€…æ•°æ®éœ€è¦ä¿®æ”¹çš„æ—¶å€™ç›´æ¥ä¿®æ”¹ä¿å­˜ï¼Œæ”¯æŒapiä¸­çš„å…³é”®å­—è¿‡æ»¤æ¥å£ï¼Œå¤šä¸ªå…³é”®å­—ç©ºæ ¼åˆ†å‰²&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&quot;//assets/img/edit.jpg&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;
&lt;h4 id=&quot;ä½¿ç”¨&quot;&gt;ä½¿ç”¨ï¼š&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;ç›´æ¥åœ¨ä»£ç ä¸­å…¨è·¯å¾„è°ƒç”¨&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; this.post('http://172.19.15.251:ä½ é…ç½®çš„ç«¯å£/api/test').then(json=&amp;gt;{

        })
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;é€šè¿‡é…ç½®webpack proxyTableï¼Œç”¨ç›¸å¯¹è·¯å¾„è°ƒç”¨&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&quot;//assets/img/use.jpg&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; this.post('/api/test').then(json=&amp;gt;{

        })
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;æœ€å&quot;&gt;æœ€å&lt;/h4&gt;

&lt;blockquote&gt;
  &lt;p&gt;æ¬¢è¿å¤§å®¶å‚ä¸ï¼Œæˆ–è€…æå»ºè®®ï¼Œissueï¼Œä¸åˆç†çš„åœ°æ–¹è¿˜æœ›å¤§ç¥æ–§æ­£ğŸ˜„&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/lxcuso4/mock&quot;&gt;æœåŠ¡ç«¯&lt;/a&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">mockåŠŸèƒ½ä»‹ç»</summary></entry><entry><title type="html">è·¨é¡µé¢é€šä¿¡</title><link href="http://localhost:4000/frame/2018/06/24/%E8%B7%A8%E9%A1%B5%E9%9D%A2%E9%80%9A%E4%BF%A1.html" rel="alternate" type="text/html" title="è·¨é¡µé¢é€šä¿¡" /><published>2018-06-24T00:00:00+08:00</published><updated>2018-06-24T00:00:00+08:00</updated><id>http://localhost:4000/frame/2018/06/24/%E8%B7%A8%E9%A1%B5%E9%9D%A2%E9%80%9A%E4%BF%A1</id><content type="html" xml:base="http://localhost:4000/frame/2018/06/24/%E8%B7%A8%E9%A1%B5%E9%9D%A2%E9%80%9A%E4%BF%A1.html">&lt;h3 id=&quot;å¤–å‘¼ç³»ç»Ÿäº¤äº’æ–¹å¼&quot;&gt;å¤–å‘¼ç³»ç»Ÿäº¤äº’æ–¹å¼&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;å¤–å‘¼ç³»ç»Ÿä¸æ”¯æŒå¤šæ ‡ç­¾é¡µä½¿ç”¨ï¼Œè€Œä¸šåŠ¡éœ€è¦åœ¨æ‰“å¼€çš„å¤šä¸ªtableé¡µæ‰“ç”µè¯ï¼Œæ‰€ä»¥éœ€è¦è·¨é¡µé¢äº¤äº’ï¼Œäº¤äº’æµç¨‹å›¾&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&quot;storagejs-æ˜¯ä¸€ä¸ªè·¨é¡µé¢é€šä¿¡çš„å…¬å…±æ–¹æ³•éœ€è¦ä¿è¯åŒåŸŸ&quot;&gt;storage.js æ˜¯ä¸€ä¸ªè·¨é¡µé¢é€šä¿¡çš„å…¬å…±æ–¹æ³•ï¼ˆéœ€è¦ä¿è¯åŒåŸŸï¼‰&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;è®¾ç½®è‡ªå®šä¹‰æ¶ˆæ¯&lt;/li&gt;
  &lt;li&gt;è·å–è‡ªå®šä¹‰æ¶ˆæ¯&lt;/li&gt;
  &lt;li&gt;ç›‘å¬å¯¹åº”è½¬æ€æ”¹å˜&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;// Aé¡µé¢ è®¾ç½®å®šä¹‰æ¶ˆæ¯çš„å€¼
// @params (key , value)
// key: ä¸ºè‡ªå®šä¹‰äº‹ä»¶åç§°
// value: å¯ä»¥æ˜¯é™¤functionçš„æ‰€æœ‰ç±»å‹

  setStorage('callTEL', {
                outCallNumber:outCallNumber,
                disNumber: disNumber,
            })

// Bé¡µé¢ ç›‘å¬å¯¹åº”æ¶ˆæ¯
// @params (object, clean)
// object ä¸ºäº‹ä»¶handle
// key(string)ï¼šå¯¹åº”çš„è‡ªå®šä¹‰äº‹ä»¶åç§°
// value(function): ç›‘å¬åˆ°å¯¹åº”æ¶ˆæ¯çš„å¤„ç†å‡½æ•°ï¼Œfunctionå®å‚æ˜¯Aé¡µé¢å¯¹åº”keyçš„value

// clean (boolean): æ‰§è¡Œå®Œhandleåæ˜¯å¦æ¸…æ¥švalueï¼Œ
// è®¾ç½®ç›¸åŒçš„å€¼ä¸ä¼šè§¦å‘äº‹ä»¶ç›‘å¬ï¼Œå¦‚æœè¦é‡å¤æ‹¨æ‰“ç”µè¯éœ€è¦ä¼ å€¼ä¸ºtrue
   listener({
            'callTEL': this.callTel.bind(this),
            'setTEL': this.setTel.bind(this)
        },true)

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;ps: listenerä¸ä¼šç›‘å¬åˆ°æœ¬é¡µé¢setStorageçš„å€¼ï¼ŒAé¡µé¢çš„listeneréœ€è¦åœ¨Bé¡µé¢è§¦å‘ï¼Œï¼ˆâ€œé¡µé¢â€æŒ‡çš„æ˜¯æµè§ˆå™¨çš„å¤šçª—å£ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;</content><author><name></name></author><summary type="html">å¤–å‘¼ç³»ç»Ÿäº¤äº’æ–¹å¼</summary></entry><entry><title type="html">å‰ç«¯ä¸šåŠ¡ç»„ä»¶åŒ–çš„å®ç°</title><link href="http://localhost:4000/frame/2018/04/10/%E4%B8%9A%E5%8A%A1%E7%BB%84%E4%BB%B6%E5%8C%96-%E4%BA%8C.html" rel="alternate" type="text/html" title="å‰ç«¯ä¸šåŠ¡ç»„ä»¶åŒ–çš„å®ç°" /><published>2018-04-10T00:00:00+08:00</published><updated>2018-04-10T00:00:00+08:00</updated><id>http://localhost:4000/frame/2018/04/10/%E4%B8%9A%E5%8A%A1%E7%BB%84%E4%BB%B6%E5%8C%96(%E4%BA%8C)</id><content type="html" xml:base="http://localhost:4000/frame/2018/04/10/%E4%B8%9A%E5%8A%A1%E7%BB%84%E4%BB%B6%E5%8C%96-%E4%BA%8C.html">&lt;h2 id=&quot;h5ç»„ä»¶å¼€å‘æ–‡æ¡£&quot;&gt;h5ç»„ä»¶å¼€å‘æ–‡æ¡£&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;http://note.youdao.com/noteshare?id=5f36f4d1db9e2d633437ca4dabdaa330&quot;&gt;ç»„ä»¶è®¾è®¡æ€è·¯&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ä½¿ç”¨vueå…¨å®¶æ¡¶ï¼Œéœ€è¦å¯¹ &lt;a href=&quot;https://cn.vuejs.org/v2/guide/&quot;&gt;vue2.0&lt;/a&gt;ã€&lt;a href=&quot;https://router.vuejs.org/zh/&quot;&gt;vue-router2.0&lt;/a&gt;ã€&lt;a href=&quot;https://vuex.vuejs.org/zh/&quot;&gt;vuex&lt;/a&gt;ï¼ˆ&lt;a href=&quot;https://vuex.vuejs.org/zh/guide/modules.html&quot;&gt;vuex module&lt;/a&gt;ï¼‰æœ‰æ‰€äº†è§£ã€‚ä¸‹é¢æ˜¯å…·ä½“å®ç°ç»†èŠ‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;1ç»„ä»¶å¼€å‘&quot;&gt;1.ç»„ä»¶å¼€å‘&lt;/h3&gt;

&lt;h4 id=&quot;1-é™æ€çŠ¶æ€ä¾èµ–åœ¨ç»„ä»¶storejs-å®šä¹‰configä½¿ç”¨vuex-moduleséš”ç¦»ç»„ä»¶å…¨å±€çŠ¶æ€&quot;&gt;1. é™æ€çŠ¶æ€ä¾èµ–ï¼šåœ¨ç»„ä»¶store.js å®šä¹‰configï¼Œä½¿ç”¨vuex moduleséš”ç¦»ç»„ä»¶å…¨å±€çŠ¶æ€&lt;/h4&gt;

&lt;blockquote&gt;
  &lt;p&gt;ç»‘å¡ç»„ä»¶ä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;// ç»„ä»¶store å¯¹è±¡
export default {
  creditCard: { // creditCard ä¸ºç»„ä»¶å‘½åç©ºé—´ï¼Œéœ€è¦å…¨å±€å”¯ä¸€ï¼Œä¸èƒ½å’Œå…¶å®ƒç»„ä»¶åŒå
    namespaced: true, // ç»„ä»¶éƒ½éœ€è¦å¼€å¯å‘½åç©ºé—´
    state: {
      creditCardList:[], // ç»„ä»¶çº§å…¨å±€çŠ¶æ€
      config: { // config é™æ€é…ç½®é¡¹ï¼Œåœ¨ç»„ä»¶å®ä¾‹åŒ–çš„æ—¶å€™ï¼Œä¸šåŠ¡è°ƒç”¨æ–¹ä¼šé€šè¿‡extendæ­¤configè¦†ç›–é»˜è®¤é…ç½®
        qa:{
          41:'xxx',
          ...
        },
            ...
      }
    },
    mutations: {
    // å®šä¹‰ç»„ä»¶mutations
      creditCardList(state, payload){
        ...
      },
    },
    actions:{
    // å®šä¹‰ç»„ä»¶actions
      getCreditList({commit},{self}){
       ...
      },
    },
  }
}

// ç»„ä»¶å¯¹åº”å…¥å£.vueæ–‡ä»¶
 import { createNamespacedHelpers } from 'vuex'
  const {mapState ,mapGetters} = createNamespacedHelpers('your name spaced');

  computed: {
      ...mapState(['config']) // å¯¼å…¥config
      }

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;2-ç»„ä»¶åŠ¨æ€çŠ¶æ€ä¾èµ–é€šè¿‡è·¯ç”±å¯¹è±¡å®šä¹‰queryæ¥æ”¶ä¸šåŠ¡è°ƒç”¨çš„å‚æ•°&quot;&gt;2. ç»„ä»¶åŠ¨æ€çŠ¶æ€ä¾èµ–ï¼šé€šè¿‡è·¯ç”±å¯¹è±¡å®šä¹‰queryæ¥æ”¶ä¸šåŠ¡è°ƒç”¨çš„å‚æ•°&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;è·¯ç”±ä¼ å€¼&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;å°½é‡ä½¿ç”¨æ­¤æ–¹æ³•ä¾èµ–åŠ¨æ€çŠ¶æ€ï¼Œç»‘å¡ç»„ä»¶ä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;// ç»„ä»¶è·¯ç”±å®ä¾‹
const routes = [
  {
    path: '/creditCardList',
    name: 'creditCardList',
    props: (route) =&amp;gt; ({query: route.query}),// å®šä¹‰queryæ¥æ”¶ä¸šåŠ¡è°ƒç”¨æ—¶ä¼ æ¥çš„ä¾èµ–æ•°æ®ï¼Œqueryå±æ€§ä¹Ÿå¯ä»¥æ˜¯æ–¹æ³•
    component: creditCardList,
  },
  ...
  ]

  // ç»„ä»¶å¯¹åº”å…¥å£.vueæ–‡ä»¶
   props:['query'],// é€šè¿‡propsæ¥æ”¶


 // ä¸šåŠ¡è°ƒç”¨æ—¶ä¼ å€¼
  params = {
            xyFrom: 'before_create_loan',
            callback:(json)=&amp;gt;{
              if(json.errcode === 0){
                this.createLoan()
              }
            }
          }
 this.$router.push({name:'nucc',query: params})

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;vuexå…¨å±€ä¾èµ–&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;å¤æ‚ä¸šåŠ¡ç»„ä»¶é€šå¤švuexæ¥æ”¶å…¨å±€çŠ¶æ€ï¼Œå°½é‡ä¸è¦å†ç»„ä»¶ä¸­æäº¤å…¨å±€å˜æ›´ï¼Œç»„ä»¶å†…éƒ¨å…¨å±€çŠ¶æ€ç»´æŠ¤åœ¨ç»„ä»¶vuex storeä¸Š&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;vueé¡µé¢&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;import { mapState, mapActions } from 'vuex'

computed: {
      ...mapState('nucc',['config']), // ç»„ä»¶çº§çŠ¶æ€
      ...mapState(['base_info']), // å…¨å±€çŠ¶æ€
      }

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;å¦‚æœè¦æäº¤å…¨å±€çŠ¶æ€ï¼Œé€šè¿‡commitæˆ–è€…dispatchæäº¤å…¨å±€çŠ¶æ€ï¼Œä¾èµ–çš„æ•°æ®éœ€è¦å£°æ˜ï¼Œæ­¤æ–¹æ³•ä¼šåœ¨ç»„ä»¶ä¸­å¼ºè€¦åˆä¸šåŠ¡å…¨å±€çŠ¶æ€å’Œå…¨å±€æ–¹æ³•ï¼Œ ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;import { mapState, mapActions } from 'vuex'

methods: {
      ...mapActions('nucc', ['update']), // ç»„ä»¶çº§actions
      ...mapActions( ['getBaseInfo']) // å…¨å±€actions
    }

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;3-ç»„ä»¶è°ƒç”¨æ—¶çš„å‰ç½®è¡Œä¸ºå’Œåç½®è¡Œä¸º&quot;&gt;3. ç»„ä»¶è°ƒç”¨æ—¶çš„å‰ç½®è¡Œä¸ºå’Œåç½®è¡Œä¸º&lt;/h4&gt;

&lt;blockquote&gt;
  &lt;p&gt;ä¸šåŠ¡è°ƒç”¨æ—¶é€šè¿‡é…ç½®configå®šä¹‰ prestart poststart åœ¨ç»„ä»¶è¿è¡Œæ—¶æ‰§è¡Œä¸šåŠ¡è‡ªå®šä¹‰è¡Œä¸º&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;// ä¸šåŠ¡config

// è¦†ç›–ç»„ä»¶config
Object.assign(nuccModule.nucc.state.config,{
  poststart(json){ //  ç»„ä»¶åŠŸèƒ½å®Œæˆæ—¶æ‰§è¡Œï¼Œthisä¸ºç»„ä»¶å®ä¾‹ï¼Œjsonä¸ºç»„ä»¶åŠŸèƒ½ç»“æœ
    this.$route.query.callback(json)
  }
})

// ç»„ä»¶æ‰§è¡Œæ—¶æœº

å‰ç½®ï¼š
    init() {
        this.getQuery();
        if (this.config.prestart){
          this.config.prestart.call(this)
        }
    }
åç½®ï¼š
      submit() {
        var params = {
          orderId: this.orderId,
          verifyCode: this.smsCode
        }
        this.post('/h5/union/nucc_sign', params).then(json =&amp;gt; {
          // å‡è®¾è¿™ä¸ªæäº¤å®ŒæˆåŠŸåç»„ä»¶åŠŸèƒ½å®Œæˆ
          if (this.config.poststart){
           // æœ‰poststart çš„æ—¶å€™åœ¨ç»„ä»¶å®ä¾‹ä¸Šæ‰§è¡Œpoststart,å°†ç»“æœä¼ ç»™poststartå‡½æ•°ï¼Œå¹¶é€€å‡º
                return this.config.poststart.call(this,json);
            }
            ... // æ‰§è¡Œé»˜è®¤é€»è¾‘

        })

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;4-ç»„ä»¶vuex-storeæ•°æ®å›ºåŒ–&quot;&gt;4. ç»„ä»¶vuex storeæ•°æ®å›ºåŒ–&lt;/h4&gt;

&lt;p&gt;ç»„ä»¶store.js æ•°æ®å›ºåŒ–ç¤ºä¾‹ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;// ç»„ä»¶ store.js

import {getSession,setSession} from 'bjxy-common/helper/session'
const storage = store =&amp;gt; {
  var session = getSession('userinfo');
  if(session){
    store.commit('identity/test', session)
  }
  var timer = null;
  store.subscribe((mutation, state) =&amp;gt; {
    if(mutation.type === 'identity/test'){
      if(timer){
        clearTimeout(timer);
      }
      timer = setTimeout(function() {
        setSession('userinfo',state.identity.data)
      },50)
    }
  })
}
var store =  {
  identity: {
    namespaced: true,
    state: {
      config: {
        //  ...
      },
      data:{a:123}
    },
    mutations:{
      test(state,payload){
        state.data = payload
      },
    },
  },
}
var plugins = [storage]
export {store, plugins}


// ç»„ä»¶index.js

import routes from './routes'
import {store, plugins }from './store'
export {routes,store,plugins}

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸šåŠ¡æ¥å…¥ç¤ºä¾‹ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;import {store as identityStore, plugins as identityPlugins} from '../src'

Object.assign(identityStore.identity.state.config,{
  poststart(json){
    this.alert(JSON.stringify(json))
  },
})

export default {
  state:{
    baseHost:'http://172.19.15.251:8091',
  },
  modules: identityStore,
  plugins: [].concat(identityPlugins)
};

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;é™¤äº†ä»¥ä¸Šæ–¹å¼çš„ä¾èµ–å’Œäº¤äº’å¤–ï¼Œç»„ä»¶åŠŸèƒ½æ˜¯å†…èšçš„&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;2-ç»„ä»¶å¯¼å‡º&quot;&gt;2. ç»„ä»¶å¯¼å‡º&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;ç»„ä»¶é€šè¿‡æä¾›ä¸€ä¸ªstoreé€‰é¡¹ å’Œ route é€‰é¡¹ï¼Œä»¥åŠå¯é€‰çš„plugins å¯¼å‡ºç»„ä»¶
    &lt;ul&gt;
      &lt;li&gt;store é€šè¿‡vuex moduleéš”ç¦»å…¨å±€çŠ¶æ€ï¼Œæä¾›ä¸€ä¸ªç»„ä»¶çº§åˆ«çš„å…¨å±€çŠ¶æ€ï¼Œæ¯ä¸ªç»„ä»¶éœ€è¦ä¸€ä¸ªå‘½åç©ºé—´ï¼Œä¿è¯åŒºåˆ«äºå…¶ä»–ç»„ä»¶&lt;/li&gt;
      &lt;li&gt;route å®šä¹‰ä¸€çº§è·¯ç”±åç§°éœ€è¦ä½¿ç”¨ç»„ä»¶å‘½åç©ºé—´ï¼Œé¿å…å…¨å±€å†²çª&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;//  å¯ä»¥é€šè¿‡å®šä¹‰index.js å°†å…¶å¯¼å‡º

import creditCardRoutes from './routes'
import creditCardStore from './store'
export {creditCardRoutes,creditCardStore}

// routes.js ç»„ä»¶è·¯ç”±

const bankList = (r) =&amp;gt; require(['./bankList.vue'], r);
const bindCreditCard = (r) =&amp;gt; require(['./bindCreditCard.vue'], r);
const creditCardList = (r) =&amp;gt; require(['./creditCardList.vue'], r);
const iframe = (r) =&amp;gt; require(['component/iframe'], r);

const routes = [
  {
    path: '/creditCardList',
    name: 'creditCardList',
    props: (route) =&amp;gt; ({query: route.query}),
    component: creditCardList,
  },
  {
    path: '/bindCreditCard/',
    name: 'bindCreditCard',
    component: bindCreditCard,
    props: (route) =&amp;gt; ({query: route.query}),
    children: [
      {
        name: 'bankList',
        path: 'bankList',
        component: bankList,
      },
    ],
  },
  {
    path: '/iframe',
    name: 'iframe',
    component: iframe,
    props: (route) =&amp;gt; ({query: route.query}),
  },

];
export default routes;


//  store.js  ç»„ä»¶çŠ¶æ€



export default {
  creditCard: {
    namespaced: true,
    state: {
      creditCardList:[],
      config: {
        qa:{
          41:'/1.0/page/qa#41',
          24:'/1.0/page/qa#24'
        },
        tip:{
          text1:'xxx',
          button2:'æˆ‘çŸ¥é“äº†',
          text2:'xxx',
          button2:'æŸ¥çœ‹è§£å†³åŠæ³•'
        },
        creditCardList:{},
        bindCreditCard:{}
      }
    },
    mutations: {
      creditCardList(state, payload){
        state.creditCardList = payload
      },
    },
    actions:{
      getCreditList({commit},{self}){
        return self.post('/h5/my/get_credit_cardlist').then(json=&amp;gt;{
         commit('creditCardList',json.data || [])
          return json
        },json=&amp;gt;{
          self.toast(json.errstr)
        })
      },
    },
  }
}


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;3-ç»„ä»¶å®ä¾‹åŒ–&quot;&gt;3. ç»„ä»¶å®ä¾‹åŒ–&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;ç»„ä»¶éœ€è¦å®ä¾‹åŒ–åä½¿ç”¨ï¼Œå¯ä»¥å•ç»„ä»¶å®ä¾‹åŒ–æˆ–è€…å’Œå…¶å®ƒç»„ä»¶é›†æˆå®ä¾‹åŒ–&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;å•ç»„ä»¶å®ä¾‹åŒ–&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
// ä¸šåŠ¡å®ä¾‹store
import {nuccStore} from 'component/nuccSign' // å¯¼å…¥ç»„ä»¶store

import getAppInfo from 'common/helper/getAppInfo'
var nuccConfig = {};
if(getAppInfo().app){
  nuccConfig = {
    tip:{
      success:{
        text:'æ‚¨å·²å®Œæˆç­¾çº¦ï¼Œè¯·ç‚¹å‡»è¿”å›æŒ‰é’®ç»§ç»­æ“ä½œ',
      },
      ...
    }
  }
}
Object.assign(nuccStore.nucc.state.config,nuccConfig); // è¦†ç›–é»˜è®¤é…ç½®
export default {
  modules: nuccStore
};

---------------------------------------------
// ä¸šåŠ¡å®ä¾‹routes

import Vue from 'vue';
import Router from 'vue-router';
import {nuccRoutes} from 'component/nuccSign' // å¯¼å…¥ç»„ä»¶è·¯ç”±

const router = {
    // åˆå¹¶è·¯ç”±
  routes: nuccRoutes.concat([
    {path: '/**', redirect: '/nucc'}
  ])
}

Vue.use(Router);
    // å¯¼å‡ºè·¯ç”±å®ä¾‹
export default new Router(router);


---------------------------------------------
// ä¸šåŠ¡å…¥å£index.js



import router from './router'; // ä¸šåŠ¡è·¯ç”±å®ä¾‹

import pageStore from './store'; // ä¸šåŠ¡æ•°æ®é€‰é¡¹å¯¹è±¡

let store = baseStore(pageStore); // store å®ä¾‹åŒ–


// ä¸šåŠ¡vueåˆå§‹åŒ–
rootApp = new Vue({
  el: '#app',
  router,
  store,
});


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;é›†æˆåˆ°å…¶å®ƒé¡¹ç›®&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;import unique from 'common/helper/unique'
import {nuccRoutes} from 'component/nuccSign' ç»„ä»¶Aè·¯ç”±å¯¹è±¡
import {creditCardRoutes} from  'component/creditCard' ç»„ä»¶Bè·¯ç”±å¯¹è±¡

var routes = [
    {
      path: '/',
      name: 'main',
      component: main,
    },
   ...
  ]; // ä¸šåŠ¡è·¯ç”±å¯¹è±¡

//  åˆå¹¶è·¯ç”±å¯¹è±¡
routes = routes.concat(nucc,creditCardRoutes,[{path: '/**', redirect: '/'}]);

routes = unique(routes,'path') // å»é‡ï¼Œä¸åŒç»„ä»¶å¯èƒ½æœ‰å…¬å…±ä¸€çº§è·¯ç”±ï¼Œiframeç­‰ï¼Œä¿ç•™ä¸€ä¸ªå°±è¡Œï¼Œå…¶å®ä¸å»é‡ä¹Ÿè¡Œï¼Œä¸€ä¸ªwarning...

Vue.use(Router);
// å¯¼å‡º
export default new Router({
  routes
});


---------------------------------------------
// ä¸šåŠ¡å®ä¾‹routes
import {nuccModule} from 'component/nuccSign'
import {creditCardStore} from 'component/creditCard'

// è¦†ç›–å¯¹åº”é…ç½®
Object.assign(nuccModule.nucc.state.config,{
  poststart(json){
    this.$route.query.callback(json)
  }
})

Object.assign(creditCardStore.creditCard.state.config,{
  creditCardList:{
    poststart(json){
      this.dispatch('creditCard',json)
      this.$router.go(-1)
    }
  }
})

// å¯¼å‡º
export default {
  state: {},
  mutations: {},
  actions:{}ï¼Œ
  plugins:[],
  modules: Object.assign({}, nuccModule, creditCardStore)// å°†ç»„ä»¶storeä½œä¸º ä¸šåŠ¡modules
  }

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name></name></author><summary type="html">h5ç»„ä»¶å¼€å‘æ–‡æ¡£</summary></entry><entry><title type="html">å‰ç«¯ä¸šåŠ¡ç»„ä»¶åŒ–çš„æ€è€ƒ</title><link href="http://localhost:4000/frame/2018/03/18/%E4%B8%9A%E5%8A%A1%E7%BB%84%E4%BB%B6%E5%8C%96-%E4%B8%80.html" rel="alternate" type="text/html" title="å‰ç«¯ä¸šåŠ¡ç»„ä»¶åŒ–çš„æ€è€ƒ" /><published>2018-03-18T00:00:00+08:00</published><updated>2018-03-18T00:00:00+08:00</updated><id>http://localhost:4000/frame/2018/03/18/%E4%B8%9A%E5%8A%A1%E7%BB%84%E4%BB%B6%E5%8C%96(%E4%B8%80)</id><content type="html" xml:base="http://localhost:4000/frame/2018/03/18/%E4%B8%9A%E5%8A%A1%E7%BB%84%E4%BB%B6%E5%8C%96-%E4%B8%80.html">&lt;h3 id=&quot;å‰ç«¯ä¸šåŠ¡ç»„ä»¶åˆ†äº«&quot;&gt;å‰ç«¯ä¸šåŠ¡ç»„ä»¶åˆ†äº«&lt;/h3&gt;

&lt;h4 id=&quot;ä¸ºä»€ä¹ˆè¦ä¸šåŠ¡ç»„ä»¶åŒ–&quot;&gt;ä¸ºä»€ä¹ˆè¦ä¸šåŠ¡ç»„ä»¶åŒ–&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;ä¸€å¥—ä»£ç å¤šä¸šåŠ¡çº¿ï¼Œå¤šç«¯ä½¿ç”¨&lt;/li&gt;
  &lt;li&gt;ä¸€æ¬¡ä¿®æ”¹å…¨éƒ¨ç”Ÿæ•ˆ&lt;/li&gt;
  &lt;li&gt;çµæ´»çš„ç»„ä»¶ç»„ç»‡æ–¹å¼&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;å¦‚ä½•ä¸šåŠ¡ç»„ä»¶åŒ–&quot;&gt;å¦‚ä½•ä¸šåŠ¡ç»„ä»¶åŒ–&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;ä½¿ç”¨æ¡†æ¶ Vueã€ Vuexã€ Vue-Router&lt;/li&gt;
  &lt;li&gt;æŒ‰ç…§ä¸€å®šè§„èŒƒå’Œæ–¹å¼å¼€å‘ç»„ä»¶&lt;/li&gt;
  &lt;li&gt;ä¸è®ºæ˜¯åœ¨å•é¡µæˆ–è€…å¤šé¡µä¸­ä½¿ç”¨æŒ‰ç…§åŒæ ·çš„æ–¹å¼å®ä¾‹åŒ–ä¸šåŠ¡ç»„ä»¶&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;ç»„ä»¶åŒ–éœ€è¦è§£å†³çš„é—®é¢˜&quot;&gt;ç»„ä»¶åŒ–éœ€è¦è§£å†³çš„é—®é¢˜&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;å…¨å±€å˜é‡å†²çªï¼ˆç»„ä»¶å†…éƒ¨çš„å…¨å±€çŠ¶æ€å’Œä¸šåŠ¡å®ä¾‹å…¨å±€çŠ¶æ€ï¼‰&lt;/li&gt;
  &lt;li&gt;å…¨å±€è·¯ç”±å†²çªï¼ˆç»„ä»¶å†…éƒ¨è·¯ç”±å’Œä¸šåŠ¡å®ä¾‹è·¯ç”±ï¼‰&lt;/li&gt;
  &lt;li&gt;ä¸åŒåœºæ™¯ã€ä¸šåŠ¡çº¿ï¼Œlogoã€æ–‡æ¡ˆã€æ ·å¼ä¸åŒï¼ˆé™æ€ä¾èµ–ï¼‰&lt;/li&gt;
  &lt;li&gt;çŠ¶æ€ä¾èµ–ï¼ˆè¿è¡Œæ—¶ä¾èµ–ï¼‰
    &lt;ul&gt;
      &lt;li&gt;routerè·³è½¬çš„æ—¶å€™&lt;/li&gt;
      &lt;li&gt;å…¨å±€vuex ä¾èµ–&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;åˆå§‹åŒ–åŠ¨ä½œ
    &lt;ul&gt;
      &lt;li&gt;åˆå§‹åŒ–æ—¶å€™éœ€è¦æ‰§è¡Œçš„é¢å¤–åŠ¨ä½œ&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;å®ŒæˆåçŠ¶æ€å¯¼å‡º
    &lt;ul&gt;
      &lt;li&gt;postinstall&lt;/li&gt;
      &lt;li&gt;å…¨å±€mutation&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;å®ŒæˆååŠ¨ä½œ&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;ç»„ä»¶åŒ–æ¶æ„æ–¹å¼&quot;&gt;ç»„ä»¶åŒ–æ¶æ„æ–¹å¼&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;ä½¿ç”¨vuex module éš”ç¦»ç»„ä»¶å…¨å±€çŠ¶æ€å’Œä¸šåŠ¡å®ä¾‹å…¨å±€çŠ¶æ€&lt;/li&gt;
  &lt;li&gt;é¡¶çº§è·¯ç”±å‘½åéœ€è¦ä¿è¯å…¶å‘½åç©ºé—´ï¼Œä¸èƒ½èµ·é€šç”¨è·¯ç”±åç§°&lt;/li&gt;
  &lt;li&gt;é™æ€ä¾èµ–é€šè¿‡åœ¨ä¸šåŠ¡å®ä¾‹åŒ–çš„æ—¶å€™ä¼ å…¥congfigï¼Œç»„ä»¶å†…éƒ¨éœ€è¦åœ¨æœ‰åŒºåˆ«çš„åœ°æ–¹,åšåˆ¤æ–­&lt;/li&gt;
  &lt;li&gt;å®ä¾‹åŒ–ä¸šåŠ¡ç»„ä»¶çš„æ—¶å€™ï¼Œç»„ä»¶ä¾èµ–é€šè¿‡routerè·³è½¬çš„æ—¶å€™åŠ å‚æ•°ä¼ é€’ç»™ç»„ä»¶ç»„ä»¶åœ¨å†…éƒ¨æ¥æ”¶ï¼›
ä¸šåŠ¡å…¬å…±base_infoä¹Ÿå¯ä»¥ç›´æ¥vuexä¾èµ–é¡¶å±‚ä¸šåŠ¡çŠ¶æ€ï¼Œç»„ä»¶è‡ªè¿°éœ€è¦å£°æ˜&lt;/li&gt;
  &lt;li&gt;ç»„ä»¶åˆå§‹åŒ–åéœ€è¦æ‰§è¡Œçš„åŠ¨ä½œï¼Œé€šè¿‡åœ¨congfigä¸­ä¼ å…¥startinstallåœ¨ç»„ä»¶åˆå§‹åŒ–çš„æ—¶å€™æ‰§è¡Œ&lt;/li&gt;
  &lt;li&gt;å®ŒæˆåçŠ¶æ€å¯¼å‡º
    &lt;ul&gt;
      &lt;li&gt;é€šè¿‡åœ¨congfigä¸­ä¼ å…¥postinstallåœ¨ç»„ä»¶åŠŸèƒ½å®Œæˆåæ‰§è¡Œï¼Œthisç»‘å®šåˆ°ç»„ä»¶å®ä¾‹ï¼Œç»„ä»¶å®Œæˆåç»“æœä½œä¸ºå‚æ•°postinstallå‚æ•°ï¼›&lt;/li&gt;
      &lt;li&gt;å…¨æµç¨‹çš„å¤§é¡¹ç›®ä¸­ä¹Ÿå¯ä»¥é€šè¿‡æäº¤å…¨å±€mutationï¼Œæ›´æ–°å…¨å±€ä¾èµ–&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;é€šè¿‡åœ¨congfigä¸­ä¼ å…¥postinstallåœ¨ç»„ä»¶åŠŸèƒ½å®Œæˆåæ‰§è¡Œ&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;ç»„ä»¶å¯¹å¤–æä¾›æ¥å£&quot;&gt;ç»„ä»¶å¯¹å¤–æä¾›æ¥å£&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;å¯¹å¤–æä¾›ä¸€ä¸ªæˆ–å¤šä¸ªrouteé€‰é¡¹å¯¹è±¡&lt;/li&gt;
  &lt;li&gt;å¯¹å¤–æä¾›ä¸€ä¸ªstoreé€‰é¡¹å¯¹è±¡&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;è·¯ç”±ï¼šä¸šåŠ¡å®ä¾‹åŒ–çš„æ—¶å€™é€šè¿‡å¼•å…¥ç»„ä»¶routeç„¶åå’Œè‡ªæœ‰routeæ‹¼è£…åå®ä¾‹åŒ–æ¥å¼•å…¥ç»„ä»¶&lt;/p&gt;

&lt;p&gt;storeï¼šé€šè¿‡å¼•å…¥ç»„ä»¶storeç„¶ååˆå¹¶åˆ°ä¸šåŠ¡modulesç„¶åå®ä¾‹åŒ–å¼•å…¥ç»„ä»¶store&lt;/p&gt;

&lt;h4 id=&quot;ä¸€äº›é—®é¢˜&quot;&gt;ä¸€äº›é—®é¢˜&lt;/h4&gt;

&lt;blockquote&gt;
  &lt;p&gt;ç›®å‰ç»„ä»¶éƒ½åœ¨compontä»“åº“ï¼Œæ‰€ä»¥ä¸šåŠ¡å¼•ç”¨çš„æ—¶å€™ï¼Œä¸šåŠ¡å¼•ç”¨Aç»„ä»¶çš„è€ç‰ˆæœ¬ï¼ŒBç»„ä»¶æ›´æ–°äº†ï¼Œä¸šåŠ¡å› ä¸ºè¦æ›´æ–°Bå¯¼è‡´Aä¹Ÿå¼•ç”¨åˆ°æœ€æ–°çš„äº†&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;ä¸åŒä¸šåŠ¡ç»„ä»¶ç”¨ä¸€ä¸ªç‹¬ç«‹çš„ä»“åº“ï¼Œä¸šåŠ¡åœ¨å¼•ç”¨çš„æ—¶å€™å¯ä»¥ä¿è¯å…¶å¼•ç”¨ç‰ˆæœ¬ä¸å˜&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><summary type="html">å‰ç«¯ä¸šåŠ¡ç»„ä»¶åˆ†äº«</summary></entry><entry><title type="html">æ•°ç»„ç›¸é‚»å’Œæœ€å¤§</title><link href="http://localhost:4000/algorithm/2017/04/12/%E6%95%B0%E7%BB%84%E7%9B%B8%E9%82%BB%E6%9C%80%E5%A4%A7.html" rel="alternate" type="text/html" title="æ•°ç»„ç›¸é‚»å’Œæœ€å¤§" /><published>2017-04-12T00:00:00+08:00</published><updated>2017-04-12T00:00:00+08:00</updated><id>http://localhost:4000/algorithm/2017/04/12/%E6%95%B0%E7%BB%84%E7%9B%B8%E9%82%BB%E6%9C%80%E5%A4%A7</id><content type="html" xml:base="http://localhost:4000/algorithm/2017/04/12/%E6%95%B0%E7%BB%84%E7%9B%B8%E9%82%BB%E6%9C%80%E5%A4%A7.html">&lt;h3 id=&quot;æ•°ç»„ç›¸é‚»å’Œæœ€å¤§&quot;&gt;æ•°ç»„ç›¸é‚»å’Œæœ€å¤§&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;æ±‚æ•°ç»„ç›¸é‚»å…ƒç´ ä¹‹å’Œæœ€å¤§&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    function max(arr) {
      var resulf = 0
      loop(arr);
      return resulf;
      function loop(subArr) {
        var current = 0;
        subArr.forEach((item)=&amp;gt;{
          current += item;
          if (current &amp;gt; resulf){
            resulf = current;
          }
        })
        if(subArr.length == 1) return;
        subArr.shift()
        loop(subArr)
      }
    }
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;æ•°ç»„åˆ†ç»„&quot;&gt;æ•°ç»„åˆ†ç»„&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;å°†æ•°ç»„æŒ‰ç…§ç»™å®šé•¿åº¦åˆ†å‰²ä¸ºæ–°çš„æ•°ç»„åˆ—è¡¨[].group(size)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;[1,2,3,4].group(3) //[[1,2,3],[4]]&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Array.prototype.group = function (size = 1) {
  let count = Math.ceil(this.length / size);
  let result = [];
  for (var i = 0; i &amp;lt; count; i++) {
    let start = i * size;
    result.push(this.slice(start, start + size));
  }
  return result;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;è¿ç»­è°ƒç”¨å‡½æ•°&quot;&gt;è¿ç»­è°ƒç”¨å‡½æ•°&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;å¦‚ä½•å®ç°ä¸€ä¸ªå‡½æ•°å½“ä¸€æ¬¡è°ƒç”¨çš„æ—¶å€™è¿”å›arguments ä¹‹å’Œï¼Œå†æ¬¡è°ƒç”¨çš„æ—¶å€™ç»§ç»­è®¡ç®—,å¦‚ï¼šadd(1,1)è¿”å›2ï¼Œadd(1,1)(1)è¿”å›3  â€¦&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  function add() {
      var arg = [...arguments];
      function fn() {
        arg = arg.concat([...arguments]);
        return fn
      }
      fn.valueOf = function () {
        return arg.reduce((a,b)=&amp;gt;{
          return a+b
        })
      };
      return fn
    }
   add(1,2)(3)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name></name></author><summary type="html">æ•°ç»„ç›¸é‚»å’Œæœ€å¤§</summary></entry><entry><title type="html">ä¸‰é˜¶å¹»æ–¹</title><link href="http://localhost:4000/algorithm/2017/03/01/%E4%B8%89%E9%98%B6%E5%B9%BB%E6%96%B9.html" rel="alternate" type="text/html" title="ä¸‰é˜¶å¹»æ–¹" /><published>2017-03-01T00:00:00+08:00</published><updated>2017-03-01T00:00:00+08:00</updated><id>http://localhost:4000/algorithm/2017/03/01/%E4%B8%89%E9%98%B6%E5%B9%BB%E6%96%B9</id><content type="html" xml:base="http://localhost:4000/algorithm/2017/03/01/%E4%B8%89%E9%98%B6%E5%B9%BB%E6%96%B9.html">&lt;h3 id=&quot;ä¸‰é˜¶å¹»æ–¹&quot;&gt;ä¸‰é˜¶å¹»æ–¹&lt;/h3&gt;
&lt;blockquote&gt;
  &lt;p&gt;å°†1~9è¿™9ä¸ªä¸åŒæ•´æ•°å¡«å…¥ä¸€ä¸ª3Ã—3çš„è¡¨æ ¼ï¼Œä½¿å¾—æ¯è¡Œã€æ¯åˆ—ä»¥åŠæ¯æ¡å¯¹è§’çº¿ä¸Šçš„æ•°å­—ä¹‹å’Œç›¸åŒã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;ç©·ä¸¾æ‰€æœ‰æ’åˆ—ç»„åˆï¼Œæ‰¾åˆ°åˆé€‚çš„è§£&lt;/li&gt;
  &lt;li&gt;ç®—æ³•çš„å…³é”®åœ¨äºç©·ä¸¾æ‰€æœ‰æ’åˆ—ç»„åˆï¼Œç›¸å½“äºåˆ—ä¸¾9ï¼çš„æ’åˆ—ç»„åˆæ‰¾åˆ°æ»¡è¶³çš„è§£&lt;/li&gt;
  &lt;li&gt;æ‰¾åˆ°8ç»„è§£äº’ä¸ºå¯¹ç§°è§£&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;var log = console.log.bind(console);

  function magicSquare(arr) {
    let result = [], current = [], count = arr.length, layer = Math.sqrt(count);
    loop(arr);
    return result
    function loop(a) {
      a.forEach((item, index) =&amp;gt; {
        current[count - a.length] = item;
        if (a.length &amp;gt; 1) {
          let next = a.slice();
          next.splice(index, 1)
          loop(next)
        } else {
          let re = current.slice();
          if (is(re)) {
            result.push(re.group(layer))
          }
        }
      })
    }

    function is(a) {
      var layer = Math.sqrt(a.length);
      var row = Array(layer).fill(0), col = Array(layer).fill(0), skim = 0, press = 0;
      a.forEach((item, index) =&amp;gt; {
        row[Math.floor(index / layer)] += item;//æ¯è¡Œå’Œ
        col[index % layer] += item;//æ¯åˆ—å’Œ
        let currentlayer = Math.floor(index / layer);
        if (index % (layer + 1) == 0) {
          skim += item;
        }
        if (index == ((currentlayer + 1) * layer - (currentlayer + 1))) {
          press += item
        }
      })
      col.push(skim, press)
      return row.concat(col).every((item) =&amp;gt; {
        return item == skim
      })
    }
  }
  var re = magicSquare([1, 2, 3, 4, 5, 6, 7, 8, 9]);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name></name></author><summary type="html">ä¸‰é˜¶å¹»æ–¹ å°†1~9è¿™9ä¸ªä¸åŒæ•´æ•°å¡«å…¥ä¸€ä¸ª3Ã—3çš„è¡¨æ ¼ï¼Œä½¿å¾—æ¯è¡Œã€æ¯åˆ—ä»¥åŠæ¯æ¡å¯¹è§’çº¿ä¸Šçš„æ•°å­—ä¹‹å’Œç›¸åŒã€‚</summary></entry><entry><title type="html">ç©·ä¸¾æ’åˆ—</title><link href="http://localhost:4000/algorithm/2017/02/18/%E7%A9%B7%E4%B8%BE%E6%8E%92%E5%88%97.html" rel="alternate" type="text/html" title="ç©·ä¸¾æ’åˆ—" /><published>2017-02-18T00:00:00+08:00</published><updated>2017-02-18T00:00:00+08:00</updated><id>http://localhost:4000/algorithm/2017/02/18/%E7%A9%B7%E4%B8%BE%E6%8E%92%E5%88%97</id><content type="html" xml:base="http://localhost:4000/algorithm/2017/02/18/%E7%A9%B7%E4%B8%BE%E6%8E%92%E5%88%97.html">&lt;h3 id=&quot;ç©·ä¸¾æ’åˆ—&quot;&gt;ç©·ä¸¾æ’åˆ—&lt;/h3&gt;
&lt;blockquote&gt;
  &lt;p&gt;å°†æ•°ç»„ä¸­çš„å…ƒç´ æ’åˆ—ç»„åˆ&lt;/p&gt;
  &lt;h5 id=&quot;é—®é¢˜åˆ†æ&quot;&gt;é—®é¢˜åˆ†æ&lt;/h5&gt;
  &lt;ul&gt;
    &lt;li&gt;æ­¤é—®é¢˜å’Œ N çš‡åé—®é¢˜å¦‚å‡ºä¸€è¾™ï¼Œéƒ½æ˜¯å¯¹ n ä¸ªå…ƒç´ è¿›è¡Œæ’åˆ—ç»„åˆï¼Œä»ä¸­è¿‡æ»¤å‡ºç¬¦åˆæ¡ä»¶çš„æ’åˆ—&lt;/li&gt;
    &lt;li&gt;ç­‰ä»·äºå°† length ä¸ªç›¸åŒçš„æ•°ç»„æ’åˆ—ç»„åˆï¼Œåˆ—å·ä¸èƒ½é‡å¤&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;function getPermutations(arr) {
      var resulf =[];
      var current = [];
      function loop(a) {
        a.forEach((item)=&amp;gt;{
          current[arr.length - a.length] = item;
          if (a.length&amp;gt;1){
            loop(a.filter((i)=&amp;gt;{
              return i !== item
            }))
          }else {
            resulf.push(current.slice());
          }
        })
      }
      loop(arr)
      return resulf;
    }
    log(getPermutations(['a','b','c','d']))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name></name></author><summary type="html">ç©·ä¸¾æ’åˆ— å°†æ•°ç»„ä¸­çš„å…ƒç´ æ’åˆ—ç»„åˆ é—®é¢˜åˆ†æ æ­¤é—®é¢˜å’Œ N çš‡åé—®é¢˜å¦‚å‡ºä¸€è¾™ï¼Œéƒ½æ˜¯å¯¹ n ä¸ªå…ƒç´ è¿›è¡Œæ’åˆ—ç»„åˆï¼Œä»ä¸­è¿‡æ»¤å‡ºç¬¦åˆæ¡ä»¶çš„æ’åˆ— ç­‰ä»·äºå°† length ä¸ªç›¸åŒçš„æ•°ç»„æ’åˆ—ç»„åˆï¼Œåˆ—å·ä¸èƒ½é‡å¤</summary></entry><entry><title type="html">Nçš‡åé—®é¢˜</title><link href="http://localhost:4000/algorithm/2017/02/17/N%E7%9A%87%E5%90%8E%E9%97%AE%E9%A2%98.html" rel="alternate" type="text/html" title="Nçš‡åé—®é¢˜" /><published>2017-02-17T00:00:00+08:00</published><updated>2017-02-17T00:00:00+08:00</updated><id>http://localhost:4000/algorithm/2017/02/17/N%E7%9A%87%E5%90%8E%E9%97%AE%E9%A2%98</id><content type="html" xml:base="http://localhost:4000/algorithm/2017/02/17/N%E7%9A%87%E5%90%8E%E9%97%AE%E9%A2%98.html">&lt;h3 id=&quot;nçš‡åé—®é¢˜&quot;&gt;Nçš‡åé—®é¢˜&lt;/h3&gt;
&lt;blockquote&gt;
  &lt;p&gt;n*nçš„æ£‹ç›˜ä¸åœ¨åŒä¸€è¡Œï¼Œåˆ—ï¼Œæ’‡ï¼Œæºï¼Œçš„æ‘†æ³•&lt;/p&gt;
  &lt;h5 id=&quot;é—®é¢˜åˆ†æ&quot;&gt;é—®é¢˜åˆ†æ&lt;/h5&gt;
  &lt;ul&gt;
    &lt;li&gt;æ¯è¡Œåªæœ‰ä¸€ä¸ªç‚¹&lt;/li&gt;
    &lt;li&gt;éå†æ¯è¡Œä¸€ä¸ªç‚¹çš„æ‰€æœ‰ç»„åˆ&lt;/li&gt;
    &lt;li&gt;å¸…é€‰å‡ºç¬¦åˆæ¡ä»¶çš„ç»„&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;function queen(layer) {
    var current = [], resulf = [];
    !function loop(row) {
      for (let col = 0; col &amp;lt; layer; col++) {
        current.length = row + 1;
        if (current.some((item) =&amp;gt; {
            return item.mark[row + ',' + col] || item.mark[&quot;*,&quot; + col] || false
          })) {
          continue;
        }
        current[row] = {dot: row + ',' + col, mark: getMark(row, col)}
        if ((1 + row) &amp;lt; layer) {
          loop(row + 1)
        } else {
          resulf.push(current.map((item)=&amp;gt;{
            return item.dot
          }))
        }
      }
    }(0);
    return resulf;
    function getMark(row, col) {
      var mark = {},
        i = layer - row,
        y1 = row,
        x1 = col,
        y2 = row,
        x2 = col;
      mark[&quot;*,&quot; + col] = true;
      while (i--) {
        mark[`${y1++},${x1++}`] = true;
        mark[`${y2++},${x2--}`] = true;
      }
      return mark
    }
  }

  console.time('t1');
  log(queen(4));
  console.timeEnd(&quot;t1&quot;);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name></name></author><summary type="html">Nçš‡åé—®é¢˜ n*nçš„æ£‹ç›˜ä¸åœ¨åŒä¸€è¡Œï¼Œåˆ—ï¼Œæ’‡ï¼Œæºï¼Œçš„æ‘†æ³• é—®é¢˜åˆ†æ æ¯è¡Œåªæœ‰ä¸€ä¸ªç‚¹ éå†æ¯è¡Œä¸€ä¸ªç‚¹çš„æ‰€æœ‰ç»„åˆ å¸…é€‰å‡ºç¬¦åˆæ¡ä»¶çš„ç»„</summary></entry></feed>